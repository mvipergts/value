<!doctype html>
<meta charset="utf-8">
<title>Lookup Test</title>
<style>body{font-family:sans-serif; max-width:720px; margin:20px auto;}</style>
<h1>Lookup Test</h1>
<p>Click Lookup to try VPIC and server evidence.</p>
<div style="display:flex; gap:8px">
  <input id="vin" placeholder="VIN" value="1HGCR2F53FA129176" style="min-width:320px">
  <button id="go">Lookup</button>
</div>
<pre id="out"></pre>
<script>
function log(msg){ document.getElementById('out').textContent += (typeof msg==='string'? msg : JSON.stringify(msg,null,2)) + "\n"; }
document.getElementById('go').onclick = async ()=>{
  const vin = document.getElementById('vin').value.trim();
  log('VPIC...'); try{ const r=await fetch('https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVinValuesExtended/'+encodeURIComponent(vin)+'?format=json'); log(await r.json()); }catch(e){ log(String(e)); }
  log('Evidence...'); try{ const r2 = await fetch('/api/evidence/score',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({vin})}); log(await r2.json()); }catch(e){ log(String(e)); }
};
</script>
